# Инструкция по установке и тестированию

## Требования

### Для разработки:
- Java 22 (OpenJDK или Oracle JDK)
- Maven 3.8+
- Git

### Для сервера:
- Paper 1.21.7
- Java 22

## Установка Java 22

### Windows:
1. Скачайте OpenJDK 22 с https://adoptium.net/
2. Установите и добавьте в PATH
3. Проверьте: `java -version`

### Альтернативно (через Chocolatey):
```powershell
choco install openjdk22
```

## Установка Maven

### Windows:
1. Скачайте Maven с https://maven.apache.org/download.cgi
2. Распакуйте в `C:\Program Files\Apache\maven`
3. Добавьте в PATH: `C:\Program Files\Apache\maven\bin`
4. Проверьте: `mvn -version`

### Альтернативно (через Chocolatey):
```powershell
choco install maven
```

## Сборка проекта

### Локальная сборка:
```bash
mvn clean package
```

### Проверка структуры:
```bash
.\test-build.bat
```

## Установка на сервер

### Способ 1: GitHub Actions (рекомендуется)
1. Запушите код на GitHub
2. Перейдите в раздел Actions
3. Скачайте артефакт сборки
4. Поместите JAR в папку `plugins`

### Способ 2: Локальная сборка
1. Соберите проект: `mvn clean package`
2. Возьмите файл `target/garden-plugin-1.0.0.jar`
3. Поместите в папку `plugins` сервера

## Тестирование

### Первый запуск:
1. Запустите сервер
2. Проверьте логи на ошибки
3. Войдите в игру
4. Используйте команду `/garden`

### Проверка функционала:
- [ ] Команда `/garden` работает
- [ ] Показывается баланс (10 рублей)
- [ ] Команда `/garden plot` работает
- [ ] Команда `/garden help` работает

### Ожидаемое поведение:
```
/garden
=== Меню сада ===
/garden plot - Информация об участке
/garden shop - Магазин семян
/garden sell - Продажа урожая
/garden invite <игрок> - Пригласить игрока
/garden expand - Расширить участок
/garden help - Справка
Ваш баланс: 10 рублей
```

## Конфигурация

### Основные настройки (config.yml):
```yaml
economy:
  starting_balance: 10  # Начальный капитал
  
plots:
  min_size: 15          # Минимальный размер участка
  max_size: 60          # Максимальный размер участка
  start_x: 1000         # Начальная координата X
  start_z: 1000         # Начальная координата Z
```

### Изменение настроек:
1. Остановите сервер
2. Отредактируйте `plugins/GardenPlugin/config.yml`
3. Запустите сервер

## Устранение неполадок

### Ошибка "Java version not supported":
- Установите Java 22
- Проверьте переменную JAVA_HOME

### Ошибка "Plugin not found":
- Проверьте, что JAR файл в папке `plugins`
- Проверьте логи сервера

### Команды не работают:
- Проверьте права: `garden.use`
- Перезапустите сервер

### Данные не сохраняются:
- Проверьте права на запись в папку `plugins/GardenPlugin/`
- Проверьте файл `data.yml`

## Следующие шаги

После успешного тестирования базового функционала:

1. **Этап 4**: Система выращивания растений
2. **Этап 5**: NPC и торговля
3. **Этап 6**: GUI интерфейс
4. **Этап 7**: Защита участков

## Поддержка

При возникновении проблем:
1. Проверьте логи сервера
2. Убедитесь в совместимости версий
3. Создайте Issue в репозитории 